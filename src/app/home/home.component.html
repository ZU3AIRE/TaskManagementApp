
<!-- Container -->
<div class="container-fluid">
    <!-- Row -->
    <div class="row">
      <!-- Header on table -->
      <div class="col-8 pt-5 pb-2">
        <h4>Tasks in the database</h4>
      </div>
      <div class="col-2 pt-5 pb-2 offset-2">
        <button class="btn btn-dark w-100" data-bs-toggle="modal" data-bs-target="#AddModal">
          Add
        </button>
      </div>
  
      <!-- Table  -->
      <div class="col-12">
        <div class="table-responsive">
          <table class="table table-dark table-striped">
            <!-- Header -->
            <thead>
              <tr>
                <th>Title</th>
                <th>Description</th>
                <th>Status</th>
                <th>Developer</th>
  
                <th class="text-end"><span class="me-5">Actions</span></th>
              </tr>
            </thead>
  
            <!-- Body -->
            <tbody>
              <tr *ngFor="let task of tasks,developers">
                <td>{{ task.title }}</td>
                <td>{{ task.description }}</td>
                <td>{{ task.status.status }}</td>
                <td>{{ task.developer}}</td>
                <td class="text-end">
                  <button class="btn btn-sm btn-secondary" data-bs-toggle="modal" data-bs-target="#AssignModal"
                    (click)="Edit(task)">
                    AssignTo
                  </button>
                  |
                  <button class="btn btn-sm btn-secondary" data-bs-toggle="modal" data-bs-target="#EditModal"
                    (click)="Edit(task)">
                    Edit
                  </button>
                  |
                  <button class="btn btn-sm btn-danger me-5" (click)="Delete(task)">
                    Delete
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
  
      <!-- Add Modal Body -->
  
      <div class="modal fade" id="AddModal" tabindex="-1">
        <div class="modal-dialog modal-md">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Add New Task</h5>
              <button class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
              <label>Title</label>
              <input type="text" class="form-control" #title />
              <p></p>
              <label>Description</label>
              <textarea class="form-control" #description></textarea>
            </div>
            <div class="modal-footer">
              <button class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button class="btn btn-primary" (click)="addNewTask()" data-bs-dismiss="modal">
                Save
              </button>
            </div>
          </div>
        </div>
      </div>
  
      <!-- Edit Modal Body -->
      <div class="modal fade" id="EditModal" tabindex="-1">
        <div class="modal-dialog modal-md">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Edit Task</h5>
              <button class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
              <label>Title</label>
              <input type="text" class="form-control" #editedTitle />
              <p></p>
              <label>Description</label>
              <textarea class="form-control" #editedDescription></textarea>
              <p></p>
              <label>Status</label>
              <select class="form-control" #status name="status" [(ngModel)]="selectedStatusId">
                <option *ngFor="let status of taskStatuses" [value]="status.taskStatusID">{{ status.status }}</option>
              </select>
            </div>
            <div class="modal-footer">
              <button class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button class="btn btn-primary" (click)="saveEditedTask()" data-bs-dismiss="modal">
                Save
              </button>
            </div>
          </div>
        </div>
      </div>
  
      <!-- AssignTo Modal Body -->
      <div class="modal fade" id="AssignModal" tabindex="-1">
        <div class="modal-dialog modal-md">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Select Developer</h5>
              <button class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
  
              <label>Developers</label>
              <select class="form-control" #developer name="Dev">
                <option *ngFor="let developer of developers" [value]="developer.developerId">{{ developer.name }}</option>
              </select>
            </div>
            <div class="modal-footer">
              <button class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button class="btn btn-primary" (click)="saveDevelopers()" data-bs-dismiss="modal">
                Assigned
              </button>
            </div>
          </div>
        </div>
      </div>
  
     